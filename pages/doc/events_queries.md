---
title: events() Queries
keywords: events
tags: [events]
sidebar: doc_sidebar
permalink: events_queries.html
summary: Learn how to write events() queries.
---
## Summary

```
events(<filterName>="<filterValue>” [,|and|or [not] <filter2Name>="<filter2Value>"] ...)
```

Controls how [events display in a chart](charts_events_displaying.html).
Can be combined with [event set operators](#event-set-operators) and [event functions](query_language_reference.html#event-functions) that let you fine tune your `events()` query.


## Parameters

<table style="width: 100%;">
<tbody>
<thead>
<tr><th width="20%">Parameter</th><th width="80%">Description</th></tr>
</thead>
<tr>
<td>filterName</td>
<td markdown="span"> An [event filter](#filters) that lets you limit which events to display. You can optionally specify multiple event filters combined with Boolean operators.</td></tr>
<tr>
<td>filterValue</td>
<td markdown="span"> Value accepted by a specified `filterName`. </td></tr>
</tbody>
</table>

## Description

The `events()` function returns the set of stored [events](events.html) that match one or more event filters. You can use `events()` to display events in time-series charts, for example, to inform other users about reasons for a change in a time series. The result set of an `events()` query depends on the [timing of the query](#when-does-an-event-query-return-events).

You can describe the set of events to be returned using [event filters](#filters):
* Match events in general by filtering on name, source, type, severity, and event tags.
* Match events that are associated with alerts by filtering on alert tags, targets, and alert ID.

You can combine multiple event filters with Boolean operators. For example:
* Return events of any type that start with `Request` and have severity that is either `severe` or `warn`:
  - `events(name="Request*" and (severity="severe" or severity="warn"))`
  - `events(name="Request*", severity="warn" or severity="severe")`

* Return events of any type that either have severity `warn` or are generated by the source `app-1`:
  - `events(severity="warn" or source="app-1")`

You can use `events()` as an `eventsExpression` that you specify to another [event function](query_language_reference.html#event-functions) or to an [event set operator](#event-set-operators). For example:
* Filter a set of events and return only the events that have ended: `closed(events(name="Request*"))`
* Examine a set of events and return the single event with the earliest start time: `first(events(name="Request*"))`
* Use a set of events as the basis for creating synthetic ongoing events: `since(events(name="Request*"))`
* Count the number of events at each point in time and return a time series: `count(events(name="Request*"))`
* Return all ongoing events: `events(name="Request*") - closed(events(name="Request*"))`


<a name="filters"></a>

## Event Filters

Event filters allow you to limit which events are returned from events() queries.

<table style="width: 100%;">
<colgroup>
<col width="13%" />
<col width="53%" />
<col width="33%" />
</colgroup>
<thead>
<tr><th>Filter</th><th>Description</th><th>Example</th></tr>
</thead>
<tbody>
<tr>
<td>alertId</td>
<td>The ID of the alert that created the event.</td>
<td><code>events(alertId=1411189741192)</code></td>
</tr>
<tr>
<td>alertTag</td>
<td>A tag associated with the alert that generated the event.</td>
<td><code>events(alertTag="ops")</code></td>
</tr>
<tr>
<td>eventTag</td>
<td>A tag associated with the event.</td>
<td><code>events(eventTag="codepushes")</code></td>
</tr>
<tr>
<td>name</td>
<td>The name of the event. Manually created events have a unique name, while events generated by an alert have the
same name as the associated alert. The name filter requires quotes if spaces exist in the name.</td>
<td><code>events(name="Request Latency too high")</code></td>
</tr>
<tr>
<td>severity</td>
<td markdown="span">The classification of the user event or the severity of alert that generated the event. User event classification levels are severe, warn, info, and unclassified.
Although an event can be left as unclassified, the severity filter does not accept the string "unclassified" as a valid value.
</td>
<td><code>events(severity="info")</code></td>
</tr>
<tr>
<td>source or tag</td>
<td>The source or source tag associated with the alert that generated the event.
The source filter allows you to display events generated by an alert based on a single source or set of sources.
The tag filter works the same way, but allows you to specify a source tag instead of a source name.</td>
<td><code>events(source="app-*" or tag="dc2")</code></td>
</tr>
<tr>
<td id="subtype">subtype</td>
<td>
The subtype of event of type alert-detail: failing, recovered.
</td>
<td><code>events(subtype="failing")</code></td>
</tr>
<tr>
<td>target
</td>
<td markdown="span">The target of the alert that generated the event. The list of targets associated with an alert are considered a single string.
  If you want to identify a single target within that string, then you must use wildcards. For example, if the notification field contains:

  <code>john.doe@example.com, jane.doe@example.com, pd:fbw21c9ee0219473w2179r4t23f8c34,</code> to use <code>jane.doe@example.com</code> as the target filter, specify the email as <code>\*jane.doe@example.com\*</code>.</td>
<td><code>events(target="*jane.doe@example.com*")</code></td>
</tr>
<tr>
<td id="type">type</td>
<td>The type of an event. The system-generated event types are:
<ul>
<li>alert</li>
<li>maintenanceWindow</li>
<li>alert-detail</li>
<li>credentials-error</li>
<li>alert-created</li>
<li>alert-updated</li>
<li>alert-deleted</li>
<li>alert-undeleted</li>
<li>alert-snoozed</li>
<li>alert-unsnoozed</li>
<li>dashboard-deleted</li>
<li>maintenancewindow-created</li>
<li>maintenancewindow-updated</li>
<li>maintenancewindow-deleted</li>
</ul>
You can optionally assign a type to a user event. The value requires quotes if it contains spaces or starts with a wildcard.
</td>
<td><code>events(type="Code push")</code><br/><code>events(type="*-created")</code></td>
</tr>
</tbody>
</table>

## Event Set Operators

An event set operator combines or compares two sets of events, and returns a set of events as the result.

### Event Set Combination Operators

<table style="width: 100%;">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead>
<tr>
<th>Combination Operator</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;e1&gt; <strong>union</strong> &lt;e2&gt;</td>
<td>Returns all events that exist in either of the event sets. For example, these queries return events of type <code>maintenanceWindow</code> (with any name), and events named <code>test</code> (of any type):
<pre>
events(type="maintenanceWindow") union events(name="test")

events(type="maintenanceWindow" or name="test")   // Equivalent alternative </pre></td>
</tr>
<tr>
<td>&lt;e1&gt; <strong>intersect</strong> &lt;e2&gt;</td>
<td>Returns all events that exist in both of the event sets. For example, these queries return events of type <code>maintenanceWindow</code> that are also called <code>test</code>:
<pre>
events(type="maintenanceWindow") intersect events(name="test")

events(type="maintenanceWindow" and name="test")  // Equivalent alternative </pre></td>
</tr>
<tr>
<td>&lt;e1&gt; <strong>-</strong> &lt;e2&gt;</td>
<td>Returns the difference between two event sets. For example, this query returns all ongoing events:
<pre>events() - closed(events()) </pre>
</td>
</tr>
</tbody>
</table>

### Event Set Comparison Operators

You can use [Allen's interval algebra](https://en.wikipedia.org/wiki/Allen%27s_interval_algebra) operators to compare two event sets, based on the time intervals (start time and end time) of the events in each set.

<table style="width: 100%;">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead>
<tr>
<th>Event Set Operator</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;e1&gt; <strong>&lt;</strong> &lt;e2&gt; <br> &lt;e1&gt; <strong>&gt;</strong> &lt;e2&gt;</td>
<td>Returns the events in <strong>e1</strong> that occurred entirely before (or entirely after) the events in <strong>e2</strong>.</td>
</tr>
<tr>
<td>&lt;e1&gt; <strong>m</strong> &lt;e2&gt; <br> &lt;e1&gt; <strong>mi</strong> &lt;e2&gt;</td>
<td>Returns the events in <strong>e1</strong> that finished just as events in <strong>e2</strong> started.</td>
</tr>
<tr>
<td>&lt;e1&gt; <strong>o</strong> &lt;e2&gt; <br> &lt;e1&gt; <strong>oi</strong> &lt;e2&gt;</td>
<td>Returns the events in <strong>e1</strong> that overlap with events in <strong>e2</strong>. </td>
</tr>
<tr>
<td>&lt;e1&gt; <strong>s</strong> &lt;e2&gt; <br> &lt;e1&gt; <strong>si</strong> &lt;e2&gt;</td>
<td>Returns the events in <strong>e1</strong> that start at the same time as events in <strong>e2</strong>. </td>
</tr>
<tr>
<td>&lt;e1&gt; <strong>d</strong> &lt;e2&gt; <br> &lt;e1&gt; <strong>di</strong> &lt;e2&gt;</td>
<td>Returns the events in <strong>e1</strong> that occurred during events in <strong>e2</strong>.</td>
</tr>
<tr>
<td>&lt;e1&gt; <strong>f</strong> &lt;e2&gt; <br> &lt;e1&gt; <strong>fi</strong> &lt;e2&gt;</td>
<td>Returns the events in <strong>e1</strong> that finish at the same time as events in <strong>e2</strong>.</td>
</tr>
<tr>
<td>&lt;e1&gt; <strong>=</strong> &lt;e2&gt; </td>
<td>Returns the events in <strong>e1</strong> that start and finish at the same time as events in <strong>e2</strong>.</td>
</tr>

</tbody>
</table>

Examples:

- `events(severity="severe") d since(1d)` returns all events with severity `severe` that occurred in the last day.
- `events(severity="severe") - (events(severity="severe") d since(1d))` returns all events with severity `severe` that are older than one day.


## When Does an Event Query Return Events?

Where an event happens in relation to the query start time  and query end time determines whether a query returns an event or not. Returning an event means showing the event in the UI, or, if you use the API, returning the event itself. The following diagram illustrates the behavior:

![when events return](images/events_returns.png)

Here are the details:

|**Event Number** | **Event start** | **Event end** | **Returned?** |
|Event 1 | Before query start time time | Before query start time | No |
|Event 2 | After query start time | Before query end time  | Yes  |
|Event 3 | Before query start time | After query start time  | Yes  |
|Event 4 | Before query start time  | After query end time | No |
|Event 5 | Before query start time | N.A. (ongoing event) | Yes |
|Event 6 | After query start time  | After query end time | Yes  |
|Event 7 | After query end time | N.A. (ongoing event) | No  |
|Event 8 | After query start time | N.A. (ongoing event)  | Yes  |
|Event 9 | After query end time | After query end time  | No |
