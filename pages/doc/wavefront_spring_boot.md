---
title: Wavefront for Spring Boot
keywords:
tags:
sidebar: doc_sidebar
permalink: wavefront_springboot.html
summary: Examine Spring Boot data in Wavefront dashboards and charts
---

Wavefront for Spring Boot allows you to quickly configure your environment, so Spring Boot components send metrics, histograms, and traces/spans to the Wavefront service.

## Features

If you use Wavefront for Spring Boot:

* A large number of metrics are exposed by default. See the [Spring Boot documentation on Supported Metrics](https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html#production-ready-metrics-meter) for details.
* You have tracing support for all the common Spring Boot components, such as Spring MVC, Spring Web, Spring Async, Feign, Hysterix, JMS, JDBC, Mongo, Zuul, Reactor, RxJava, Redis, Logging, Spring Messaging, and RabbitMQ.
* The spans in your applications are automatically converted to the Wavefront span format.
* You can use Spring Cloud Sleuth or OpenTracing to send trace data.
* If you are using OpenTracing, the logs generated by the logger in your application are automatically converted to span logs, and you can view the span logs in [Wavefront Tracing Browser](tracing_ui_overview.html#drill-down-into-spans-and-view-metrics-and-span-logs). You donâ€™t need to change your code.

## Getting Data Into Wavefront from Spring Boot

You can send data from your Spring Boot applications into Wavefront using the Wavefront for Spring Boot Starter (all users) or the Wavefront Spring Boot integration (Wavefront customers and trial users).

* **Wavefront for Spring Boot Starter**<br/> If you configure your application with the Wavefront for Spring Boot starter, you can send metrics, histograms, and traces/spans to the Wavefront service. Once the data is in Wavefront, you can view your data, find hotspots, and gather more data.
  - **Freemium** All users can run the Spring Boot Starter with the default settings to view their data in the Wavefront Freemium instance. Certain limitations apply, for example, alerts are not available, but you don't have to sign up.
  - **Wavefront Customer or Trial User** Wavefront customers or trial users can modify the default Wavefront Spring Boot Starter to send data to their cluster. You can sign up for a [free 30-day trial here](https://www.wavefront.com/sign-up/).
* **Wavefront Spring Boot Integration** Wavefront customers and trial users can access the Wavefront Spring Boot integration directly from their clusters.

## Dashboards

After you've completed setup, you can examine the data in the Wavefront dashboards.

<table style="width: 100%;">
<tbody>
<tr>
<td width="50%">The <strong>Spring Boot Inventory dashboard</strong> provides real-time visibility into your Spring Boot environment.
<ul><li>
This is the default dashboard when you run the Spring Boot initializer. </li>
<li>You can also access this dashboard from the Spring Boot integration's <strong>Dashboards</strong> tab.</li></ul> </td>
<td width="50%"><img src="/images/springboot_metrics.png" alt="screenshot of spring boot dashboard">
</td></tr>
<tr>
<td width="50%">The <strong>Spring Boot Application dashboard</strong> allows you to examine RED metrics and traces for your application(s). You can access this dashboard if trace data are flowing:
<ul><li>From the Spring Boot Inventory dashboard. </li>
<li>From the Spring Boot integration's <strong>Dashboards</strong> tab.</li></ul>
<img src="/images/springboot_trace_data.png" alt="Tracing section has link to Application Dashboard">
</td>
<td width="50%"><img src="/images/springboot_tracing.png" alt="screenshot of spring boot dashboard">
</td></tr>
</tbody>
</table>




<!---Not sure this table makes sense any more. It's really about Freemium vs. Customer/trial.
<table style="width: 100%;">
<tbody>
<thead>
<tr><th width="20%">&nbsp;</th><th width="40%">Wavefront Spring Boot Integration</th><th width="40%">Wavefront Spring Boot Starter</th></tr>
</thead>
<tr>
<td><strong>Setup</strong></td>
<td>
Customize the configuration file (integration Setup tab) or set up Maven or Gradle.</td>
<td>Auto Configuration (plus: Custom Configuration options)</td>
</tr>
<tr>
<td><strong>Supported telemetry</strong></td>
<td>Metrics, histograms, and traces/spans</td>
<td>Metrics, histograms, and traces/spans</td>
</tr>
<tr>
<td><strong>Ingestion options</strong></td>
<td>Proxy, direct ingestion </td>
<td>Proxy, direct ingestion </td>
</tr>
<tr>
<td><strong>Dashboards</strong></td>
<td>Spring Boot Inventory dashboard for metrics, Spring Boot Application dashboard for traces. </td>
<td>Spring Boot Inventory dashboard for metrics, Spring Boot Application dashboard for traces.</td>
</tr>
<tr>
<td><strong>Modify dashboards</strong></td>
<td>Clone and customize the predefined dashboard. Create dashboards, add charts, specify metrics.  </td>
<td>Clone and customize the predefined dashboard. Create dashboards, add charts, specify metrics.</td>
</tr>
<tr>
<td><strong>Alerts</strong></td>
<td>Create smart alerts that dynamically filter noise and capture true anomalies.</td>
<td>Alerts are not available on this free cluster.</td>
</tr>
<tr>
<td><strong>Actuator endpoint</strong></td>
<td>Not available.</td>
<td markdown="span">Dedicated actuator endpoint at <br/><code><b>/actuator/wavefront</b></code> to access your Wavefront dashboard.</td>
</tr>
</tbody>
</table>
--->



## Wavefront Spring Boot Starter Setup

Anyone can get started using the Wavefront Spring Boot Starter.

* The easiest way to get started is to create a new project on [start.spring.io](https://start.springboot.io).
  - Select Spring Boot 2.3 or later and your favorite build system
  - Include at least the `Wavefront` entry.
  - If you want to opt-in for tracing support, add the `Spring Cloud Sleuth` entry as well.
* If you already have a Spring Boot application, you can also use [start.spring.io](https://start.springboot.io) to explore the project from your browser. You can determine the setup for the Spring Boot generation that your  project is using.

Here are some things to know before you start:

* **Ingestion Method**: Wavefront for Spring Boot sends data to Wavefront via [direct ingestion](direct_ingestion.html) by default. You can [configure your application to send data via the Wavefront proxy](#proxy).
* **Target**: Wavefront for Spring Boot sends data to the Wavefront Freemium instance by default. You can [configure your application to send data to your Wavefront instance](#wf_instance).
* **Account**: By default the starter sends you to the Freemium instance,  auto-negotiates an account, and saves the API token in the `~/.wavefront_freemium` file in your home directory. If you customize the starter to go to your Wavefront instance (see Step 2 below) you need to include an API token for that instance.

<!---
![Ways to get started with the Wavefront for Spring Boot offering](/images/spring_boot_getting_started.png)--->

### Prerequisites for Wavefront Spring Boot Starter

* Spring Boot 2.3.0 or above
* Java 8 or above
* Maven 3.3+ or Gradle 6.3 or later
  <br/>See [System Requirements](https://docs.spring.io/spring-boot/docs/2.3.0.RC1/reference/html/getting-started.html#getting-started-system-requirements) in the Spring Boot documentation.

### Step 0: Import the wavefront-spring-boot BOM

Before you start, import the BOM. This example uses the 2.0.0 version of `wavefront-spring-boot`. Go to the [start.pring.io](https://start.spring.io/) to explore other version options.

```
<dependencyManagement>
  <dependencies>
    <dependency>
      <groupId>com.wavefront</groupId>
      <artifactId>wavefront-spring-boot</artifactId>
      <version>2.0.0</version>
      <type>pom</type>
      <scope>import</scope>
    </dependency>
  </dependencies>
</dependencyManagement>
```

If you are using Gradle, make sure your project uses the  `io.spring.dependency-management` plugin and add the following to your build.gradle file:

```
dependencyManagement {
  imports {
    mavenBom "com.wavefront:wavefront-spring-boot-bom:2.0.0"
  }
}
```

### Step 1: Add wavefront-spring-boot-starter to Your Project

Adding `wavefront-spring-boot-starter` is different for existing or new projects.

<ul id="profileTabs" class="nav nav-tabs">
    <li class="active"><a href="#existing" data-toggle="tab">Initialize an Existing Project</a></li>
    <li><a href="#new" data-toggle="tab">Initialize a New Project</a></li>
</ul>
  <div class="tab-content">
    <div role="tabpanel" class="tab-pane active" id="existing">
      <p>Follow these steps:</p>
      <ol>
        <li> Add the Wavefront dependency.
          <ul id="profileTabs" class="nav nav-tabs">
              <li class="active"><a href="#maven" data-toggle="tab">Maven</a></li>
              <li><a href="#gradle" data-toggle="tab">Gradle</a></li>
          </ul>
            <div class="tab-content">
              <div role="tabpanel" class="tab-pane active" id="maven">
                  <p>Open your application and add the following code to your <code>pom.xml</code> file.   </p>
                    <pre>
&lt;dependency&gt;
  &lt;groupId&gt;com.wavefront&lt;/groupId&gt;
  &lt;artifactId&gt;wavefront-spring-boot-starter&lt;/artifactId&gt;
&lt;/dependency&gt;
                  </pre>
              </div>

              <div role="tabpanel" class="tab-pane" id="gradle">
              <p>Open your application and add the following code to your <code>build.gradle</code> file.  </p>
                <pre>
dependencies {
  ...
  implementation 'com.wavefront:wavefront-spring-boot-starter'
}
              </pre>
              </div>
            </div>
        </li>

      <li>
        If you want to send trace data to Wavefront using Spring Cloud Sleuth or OpenTracing, add the following dependencies.
          <ul id="profileTabs" class="nav nav-tabs">
              <li class="active"><a href="#sleuthnew" data-toggle="tab">Spring Cloud Sleuth</a></li>
              <li><a href="#opentracingnew" data-toggle="tab">OpenTracing</a></li>
          </ul>
            <div class="tab-content">
              <div role="tabpanel" class="tab-pane active" id="sleuthnew">
                  <ul>
                  <li><p><b>Maven</b>:<br/>Open your application and add the following code to your <code>pom.xml</code> file. </p>
                    <pre>
&lt;dependency&gt;
  &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
  &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;
&lt;/dependency&gt;
                  </pre></li>

                  <li><p><b>Gradle</b>:<br/>Open your application and add the following code to your <code>build.gradle</code> file. </p>
                    <pre>
dependencies {
  ...
  implementation 'org.springframework.cloud:spring-cloud-starter-sleuth'
}
                  </pre></li></ul>

              </div>

              <div role="tabpanel" class="tab-pane" id="opentracingnew">
              <ul><li><p markdown="span"><b>Maven</b>: <br/>Open your application and add the following code to your <code>pom.xml</code> file. The logs generated by the logger in your application will be automatically converted to span logs, and you can view the span logs in the [Wavefront Tracing Browser](tracing_ui_overview.html#drill-down-into-spans-and-view-metrics-and-span-logs).</p>
                <pre>
&lt;dependency&gt;
  &lt;groupId&gt;io.opentracing.contrib&lt;/groupId&gt;
  &lt;artifactId&gt;opentracing-spring-cloud-starter&lt;/artifactId&gt;
  &lt;version&gt;0.5.3&lt;/version&gt;
&lt;/dependency&gt;
              </pre></li>

              <li><p><b>Gradle</b>:<br/>Open your application and add the following code to your <code>build.gradle</code> file. </p>
                <pre>
dependencies {
  ...
  implementation 'io.opentracing.contrib:opentracing-spring-cloud-starter:0.5.3'
}
              </pre></li></ul>
              </div>
            </div>
        </li></ol>

    </div>

    <div role="tabpanel" class="tab-pane" id="new">
      <p>Follow these steps:</p>
      <ol>
        <li markdown="span">
          Navigate to [https://start.spring.io](https://start.spring.io/).
        </li>
        <li markdown="span">
          Define the project name, Spring version, and other parameters.
            <br/> ![Spring Initializr](images/spring_boot_initializr.png)
        </li>
        <li markdown="span">
          Click **Add dependency**, select Wavefront from the dependency list, and click **Generate**.
            <br/> ![Wavefront dependency](/images/sping_boot_wavefront_depdendency.png)
        </li>
        <li>
          Add the following dependency to send trace data to Wavefront using Spring Cloud Sleuth or OpenTracing.
            <ul id="profileTabs" class="nav nav-tabs">
                <li class="active"><a href="#sleuth" data-toggle="tab">Spring Cloud Sleuth</a></li>
                <li><a href="#opentracing" data-toggle="tab">OpenTracing</a></li>
            </ul>
              <div class="tab-content">
                <div role="tabpanel" class="tab-pane active" id="sleuth">
                    <ul>
                    <li><p><b>Maven</b>:<br/>Open your application and add the following code to your <code>pom.xml</code> file. </p>
                      <pre>
&lt;dependency&gt;
  &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
  &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;
&lt;/dependency&gt;
                    </pre></li>

                    <li><p><b>Gradle</b>:<br/>Open your application and add the following code to your <code>build.gradle</code> file. </p>
                      <pre>
dependencies {
  ...
  implementation 'org.springframework.cloud:spring-cloud-starter-sleuth'
}
                    </pre></li></ul>

                </div>

                <div role="tabpanel" class="tab-pane" id="opentracing">
                <ul><li><p markdown="span"><b>Maven</b>: <br/>Open your application and add the following code to your <code>pom.xml</code> file. The logs generated by the logger in your application will be automatically converted to span logs, and you can view the span logs in the [Wavefront Tracing Browser](tracing_ui_overview.html#drill-down-into-spans-and-view-metrics-and-span-logs).</p>
                  <pre>
&lt;dependency&gt;
  &lt;groupId&gt;io.opentracing.contrib&lt;/groupId&gt;
  &lt;artifactId&gt;opentracing-spring-cloud-starter&lt;/artifactId&gt;
  &lt;version&gt;0.5.3&lt;/version&gt;
&lt;/dependency&gt;
                </pre></li>

                <li><p><b>Gradle</b>:<br/>Open your application and add the following code to your <code>build.gradle</code> file. </p>
                  <pre>
dependencies {
  ...
  implementation 'io.opentracing.contrib:opentracing-spring-cloud-starter:0.5.3'
  }
                </pre></li></ul>
                </div>
              </div>
        </li>
        <li>
           Add the application logic and start the project.<br/>
           You need a tracing application to view the trace data in Wavefront, else some of the charts will not show data.
        </li>
      </ol>

    </div>
  </div>

### Step 2 (Optional): Specify Your Wavefront Instance

By default, the Wavefront Spring Boot Starter creates an account for you and sends data to the Freemium instance. If you already have a Wavefront account, you can send data there instead by specifying the `uri` and `api-token` properties, as follows:

```
management.metrics.export.wavefront.api-token=$API_Token
management.metrics.export.wavefront.uri=$wavefront_instance
```

* $API_Token is a valid [API token for your Wavefront instance](users_account_managing.html#generate-an-api-token).
* $wavefront_instance is the name of your Wavefront instance, for example, `example.wavefront.com`.


### Step 3:  View Your Data on Wavefront

To view your data, you first run your project from the command line, and then click the link that directs you to Wavefront. Follow these steps:

1. Run your project.
    {% include note.html content="If you're using the Freemium instance, an account is auto-negotiated or restored from `~/.wavefront_freemium` in your home directory each time the application starts. Otherwise, you're directed to the instance you specified. "%}
    <ul id="profileTabs" class="nav nav-tabs">
        <li class="active"><a href="#mavenrun" data-toggle="tab">Maven</a></li>
        <li><a href="#gradlerun" data-toggle="tab">Gradle</a></li>
    </ul>
      <div class="tab-content">
        <div role="tabpanel" class="tab-pane active" id="mavenrun">
            <pre>
./mvnw spring-boot:run
            </pre>
        </div>

        <div role="tabpanel" class="tab-pane" id="gradlerun">
            <pre>
./gradlew bootRun
            </pre>
        </div>
      </div>
     You see the following printed on your console:
     <br/>The following example shows what you see if you're using the Freemium instance:
      ```
        To share this account, make sure the following is added to your configuration:

         management.metrics.export.wavefront.api-token=44444-34this-45is-123a-sampletoken
         management.metrics.export.wavefront.uri=https://wavefront.surf

        Connect to your Wavefront dashboard using this one-time use link:
        https://wavefront.surf/us/example
      ```
1. Add data to your application before you start to view the data on Wavefront.
    {% include tip.html content="Try out the [Wavefront for Spring Boot Tutorial](wavefront_springboot_tutorial.html)."%}
1. Click the link (for example, `https://wavefront.surf/us/<name>`) and you are taken to the Wavefront Spring Boot Inventory dashboard where you can examine the data sent by your application. If your application uses trace data, click the link in the Tracing section of the dashboard to be directed to the Wavefront Spring Boot Application dashboard.
    {% include note.html content="Want to see the cool information you can gather from the Application Dashboard? See [Explore the Default Service Dashboard](tracing_ui_overview.html#explore-the-default-service-dashboard)." %}
<!---
<iframe width="768" height="432" src="https://www.youtube.com/embed/K-cviV9mKKA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
--->


### Custom Configurations

Add the following custom configurations to the `application.properties` file.

<p><span style="font-size: large; font-weight: 600">Invite Users</span></p>

You can invite users and let them send data to the same cluster:

1. Click the link that was printed on your console and navigate to the Wavefront Service dashboard:
    {% include note.html content="Save the link that you used to access the Service dashboard." %}
    1. Click the gear icon and select **Account Management**.
    1. Click **Invite New Users** and specify a comma-separated list of email addresses.<br/>
        ![Invite Users](/images/spring_boot_invite_users.png)
  The users will get an email with a link to reset their password. They can then access your dashboard.
1. Information about the token and URL are displayed on your terminal. Add them to your projectâ€™s `application.properties` file.
    ```
    management.metrics.export.wavefront.api-token=<Enter_Token>
    management.metrics.export.wavefront.uri=https://wavefront.surf
    ```
1. If you are using the freemium account and want the single-use login URL to show on the terminal each time you start the application, add `wavefront.freemium-account` to the `application.properties` file and set it to `true`.
  ```
  wavefront.freemium-account=true
  ```
    {% include tip.html content="If you donâ€™t want Wavefront to auto-negotiation a freemium account for you, set the value to `false`."%}
1. Restart your application.

<p><span style="font-size: large; font-weight: 600">Use the Wavefront Proxy</span></p>

The [Wavefront proxy](proxies.html)  ingests data and forwards them to the Wavefront service in a secure, fast, and reliable manner. It prevents data loss, simplifies firewall configuration, and allows you to filter or enrich data before they arrive at the Wavefront service.

Copy and paste the following property.  {% include note.html content="Supported with [Wavefront Proxy version 7.0](proxies_versions.html) and later. Before sending data via the proxy you need to [Install and Manage Wavefront Proxies](proxies_installing.html)."%}
```
management.metrics.export.wavefront.uri=http://<Proxy_Host>:2878
```

<p><span style="font-size: large; font-weight: 600">Access the Dashboard with the Actuator Endpoint</span></p>


If you have a web app, you can expose the Wavefront Actuator endpoint at `/actuator/wavefront` to access your Wavefront dashboard.
<br/>Example:
```
management.endpoints.web.exposure.include=health,info,...,wavefront
```

<p><span style="font-size: large; font-weight: 600">Specify Application and Service Names</span></p>

If you have more than one Spring Boot application, you can specify the names of the application and the service in the `application.properties` file.
<br/>Example:
```
wavefront.application.name=my-application
wavefront.application.service=my-service
```

Example: If you are using a YAML file.
```
wavefront:
  application:
    name: my-application
    service: my-service
```

Optionally:
* If you configured `spring.application.name` in your application, it is automatically used as the service name.

You can configure the cluster and shard the same way. This information is used to tag metrics and traces.
* If you want to take full control over [`ApplicationTags`](tracing_instrumenting_frameworks.html#application-tags), you can create a `@Bean`.
* If you want to customize the instance that is auto-configured, add an `ApplicationTagsBuilderCustomizer` bean.

<!---
<p><span style="font-size: large; font-weight: 600">Disable Integration Tests from Sending data to Wavefront</span></p>

Add `management.metrics.export.wavefront.enabled` to your integration tests and set it to `false` to stop it from sending data to Wavefront.

{% include note.html content="If you use the [Spring Initializer](https://start.spring.io/) to create your new Spring Boot application and add the Wavefront dependency, this configuration is added by default to all your integration tests."%}

Example: Disable all integration tests from sending data to Wavefront by updating the `application.properties` file.
```
management.metrics.export.wavefront.enabled=false
```

Example: Disable a specific integration test from sending data to Wavefront.
```
  package com.example.demo;

  import org.junit.jupiter.api.Test;
  import org.springframework.boot.test.context.SpringBootTest;
  import org.springframework.test.context.TestPropertySource;

  @TestPropertySource(properties = "management.metrics.export.wavefront.enabled=false")
  @SpringBootTest
  class DemoApplicationTests {

  	@Test
  	void contextLoads() {
  	}

  }
  ```

{% include note.html content="For details on customizing exported metrics, check the [Spring Boot reference guide](https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html#production-ready-metrics-export-wavefront)."%}--->

## Wavefront Spring Boot Integration

If you already have a Wavefront account, you can start the setup and examine the dashboards from the Wavefront Spring Boot integration. This is supported for [Wavefront trial accounts](https://www.wavefront.com/sign-up/).

1. Log in to your Wavefront instance.
2. Select **Integrations**, search for Spring Boot, and select the Spring Boot integration.
3. Use the information in the **Setup** tab to set up the integration.
4. When setup is complete, click the **Dashboard** tab to examine your data.

## Next Steps

* [Try out the Wavefront for Spring Boot Tutorial](wavefront_springboot_tutorial.html) and see how you can send your data to Wavefront in a few simple steps!
* See the [Wavefront for Spring Boot FAQs](wavefront_spring_boot_faq.html).
<!---Check out [this video](https://youtu.be/Jxwf-Iw-3T8) that shows you how to send data to Wavefront from your Spring Boot application and analyze the data.--->
